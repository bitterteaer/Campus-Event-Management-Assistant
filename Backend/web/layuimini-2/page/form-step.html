<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>分步表单</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../lib/layui-v2.6.3/css/layui.css" media="all">
    <link rel="stylesheet" href="../css/public.css" media="all">
    <link rel="stylesheet" href="../js/lay-module/step-lay/step.css" media="all">


</head>
<body>
<div class="layuimini-container">
    <div class="layuimini-main">

        <div class="layui-fluid">
            <div class="layui-card" style="height: auto">
                <div class="layui-card-body" style="padding-top: 40px;">
                    <div class="layui-carousel" id="stepForm" lay-filter="stepForm" style="margin: 0 auto;">
                        <div carousel-item>
                            <div>
                                <form class="layui-form" style=" margin: 0 auto;max-width: 460px;padding-top: 40px;">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">负责人工号:</label>
                                        <div class="layui-input-block">
                                            <input id="inChargeID" value="teacher1" type="text" placeholder="主负责人工号" class="layui-input" lay-verify="text" required />
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">负责人手机号:</label>
                                        <div class="layui-input-block">
                                            <input id="inChargeNB" value="17199997056" type="number" placeholder="负责人手机号" value="" class="layui-input" lay-verify="number" required>
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">活动成员人数:</label>
                                        <!-- <select id="menberTotal" name="quiz2">
                                            <option value="">请选择人数（最多3人）</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                        </select> -->
										<div class="layui-input-block">
										    <input id="menberTotal" value="50" type="number" placeholder="活动成员人数" class="layui-input" lay-verify="number" required/>
										</div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">活动简介</label>
                                        <div class="layui-input-block">
                                            <input id="summery" type="text" placeholder="活动简介" value="..." class="layui-input" required>
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">活动类型:</label>
                                        <div class="layui-input-block">
                                            <input id="type" type="text" placeholder="活动类型" value="讲座" class="layui-input" lay-verify="text" required />
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">活动主题:</label>
                                        <div class="layui-input-block">
                                            <input id="theme" type="text" placeholder="活动主题" value="传统文化" class="layui-input" lay-verify="text" required />
                                        </div>
                                    </div>
<!--                                    <div class="layui-form-item">-->
<!--                                        <label class="layui-form-label">成员3姓名:</label>-->
<!--                                        <div class="layui-input-block">-->
<!--                                            <input id="menber3" type="text" placeholder="成员1姓名" class="layui-input" lay-verify="number" required />-->
<!--                                        </div>-->
<!--                                    </div>-->
                                    <!-- <div class="layui-form-item">
                                        <label class="layui-form-label">备注说明:</label>
                                        <div class="layui-input-block">
                                            <textarea id="remark1" placeholder="备注" value="" class="layui-textarea"></textarea>
                                        </div>
                                    </div> -->
                                    <div class="layui-form-item">
                                        <div class="layui-input-block">
                                            <button onclick="test1()" class="layui-btn" lay-submit lay-filter="formStep">
                                                &emsp;下一步&emsp;
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>

                            <div>
                                <form class="layui-form" style="margin: 0 auto;max-width: 460px;padding-top: 40px;">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">活动名称:</label>
                                        <div class="layui-input-block">
                                            <input id="activityName" type="text" placeholder="活动名称" value="..." class="layui-input" lay-verify="text" required>
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">活动地点:</label>
                                        <div class="layui-input-block">
                                            <input id="ativityPlace" type="text" placeholder="活动地点" value="吕志和" class="layui-input" lay-verify="text" required>
                                        </div>
                                    </div>


                                    <div class="layui-form-item">
                                        <label class="layui-form-label">具体日期:</label>
                                        <div class="layui-input-block">
                                            <input id="ativityMoney" type="text" placeholder="具体日期" value="yyyy-mm-dd" class="layui-input" lay-verify="text" required>
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">报名开始:</label>
                                        <div class="layui-input-block">
                                            <input id="ativityMoney" type="text" placeholder="报名开始时间" value="yyyy-mm-dd" class="layui-input" lay-verify="text" required>
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">报名截至:</label>
                                        <div class="layui-input-block">
                                            <input id="ativityMoney" type="text" placeholder="报名截至时间" value="yyyy-mm-dd" class="layui-input" lay-verify="text" required>
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">活动开始:</label>
                                        <div class="layui-input-block">
                                            <input id="ativityMoney" type="text" placeholder="活动开始时间" value="hh-mm" class="layui-input" lay-verify="text" required>
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">活动截止:</label>
                                        <div class="layui-input-block">
                                            <input id="ativityMoney" type="text" placeholder="活动时间" value="hh-mm" class="layui-input" lay-verify="text" required>
                                        </div>
                                    </div>

                                    <!--<div class="layui-form-item">-->
                                        <!--<label class="layui-form-label">活动类型:</label>-->
                                        <!--<div class="layui-input-block">-->
                                            <!--<input id="type" type="text" placeholder="活动类型" value="" class="layui-input" lay-verify="text" required>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                    <!--<div class="layui-form-item">-->
                                        <!--<label class="layui-form-label">活动主题:</label>-->
                                        <!--<div class="layui-input-block">-->
                                            <!--<input id="theme" type="text" placeholder="活动主题" value="" class="layui-input" lay-verify="text" required>-->
                                        <!--</div>-->
                                    <!--</div>-->


                                    <!--<div class="layui-form-item">-->
                                        <!--<label class="layui-form-label">活动具体安排:</label>-->
                                        <!--<div class="layui-input-block">-->
                                            <!--<textarea id="remark2" placeholder="活动备注" value="..." class="layui-textarea"></textarea>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                    <div class="layui-form-item">
                                        <div class="layui-input-block">
                                            <button type="button" class="layui-btn layui-btn-primary pre">上一步</button>
                                            <button id="btn" class="layui-btn" lay-submit lay-filter="formStep2" onclick="test()">
                                                &emsp;创建活动&emsp;
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div>
                                <div style="text-align: center;margin-top: 90px;">
                                    <i class="layui-icon layui-circle"
                                       style="color: white;font-size:30px;font-weight:bold;background: #52C41A;padding: 20px;line-height: 80px;">&#xe605;</i>
                                    <div style="font-size: 24px;color: #333;font-weight: 500;margin-top: 30px;">
                                        创建成功
                                    </div>
                                </div>
                                <div style="text-align: center;margin-top: 50px;">
                                    <!--<form action="http://localhost:8080/QRServlet">-->
                                    <form action="http://106.54.189.155:8080/QRServlet">
										<button type="submit" class="layui-btn next">查看签到二维码</button>
									</form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
<!--                    <div style="color: #666;margin-top: 30px;margin-bottom: 40px;padding-left: 30px;">-->
<!--                        <h3>说明</h3><br>-->
<!--                        <h4>入款到保险箱</h4>-->
<!--                        <p>如果需要，这里可以放一些关于产品的常见问题说明。</p>-->
<!--                        <br><h4>入款到现金</h4>-->
<!--                        <p>如果需要，这里可以放一些关于产品的常见问题说明。</p>-->
<!--                    </div>-->
                </div>
            </div>
        </div>

    </div>
</div>
<script src="JQ.js"></script>
<script>
    var inChargeID;
    var inChargeNB;
    var menberTotal;
    var summery;
    var test1 = function (){
          inChargeID = document.getElementById("inChargeID").value;//负责人工号:
          inChargeNB = document.getElementById("inChargeNB").value;//负责人手机号
          menberTotal = document.getElementById("menberTotal").value;//活动成员人数
          summery = document.getElementById("summery").value;//活动简介


        // alert("inChargeID"+inChargeID);
        // alert("inChargeNB"+inChargeNB);
        // alert("menberTotal"+menberTotal);
        // // alert("a"+menber1);
        // // alert("a"+menber2);
        // // alert("a"+menber3);
        // alert("remark1"+remark1);
    }

    var test = function (){
        var activityName = document.getElementById("activityName").value;//活动名字
        var ativityPlace = document.getElementById("ativityPlace").value;//活动地点
        var ativityTime = document.getElementById("ativityMoney").value;//活动时间
        var remark = document.getElementById("remark2").value;//活动备注
        var type = document.getElementById("type").value;//活动类型
        var theme = document.getElementById("theme").value;//活动主题

        // alert("activityName"+activityName);
        // alert("ativityPlace"+ativityPlace);
        // alert("ativityMoney"+ativityMoney);
        // alert("remark2"+remark2);

        // alert(a);
        // $.post(
        //     "http://localhost/test",
        //     {"activateID":a},
        //     function (data,state){
        //         alert("收到数据："+data+"状态："+state);
        //
        //     }
        // );
		// alert("test01");
		// alert(inChargeID+inChargeNB+menberTotal+activityName+ativityPlace+ativityTime+remark)

		$.post(
		    //TODO ActivityData
		    // "http://localhost:8080/ActivityData",
            "http://106.54.189.155:8080/ActivityData",
		    {
		        "name":"form-step",
				"inChargeID":inChargeID,
				"inChargeNB":inChargeNB,
				"menberTotal":menberTotal,
				"activityName":activityName,
				"ativityPlace":ativityPlace,
				"ativityTime":ativityTime,
                "summery":summery,
                "type":type,
                "theme":theme,
				"remark":remark
		    },
		    function(data,status){
		        // alert("数据: \n" + data + "\n状态: " + status);
		});
		
    }
</script>
<script src="../lib/layui-v2.6.3/layui.js" charset="utf-8"></script>
<script src="../js/lay-config.js?v=1.0.4" charset="utf-8"></script>
<script>
    layui.use([ 'form', 'step'], function () {
        var $ = layui.$,
            form = layui.form,
            step = layui.step;

        step.render({
            elem: '#stepForm',
            filter: 'stepForm',
            width: '100%', //设置容器宽度
            stepWidth: '750px',
            height: '500px',
            stepItems: [{
                title: '填写活动人员信息'
            }, {
                title: '填写活动基本信息'
            }, {
                title: '完成'
            }]
        });


        form.on('submit(formStep)', function (data) {
            step.next('#stepForm');
            return false;
        });

        form.on('submit(formStep2)', function (data) {
            step.next('#stepForm');
            return false;
        });

        $('.pre').click(function () {
            step.pre('#stepForm');
        });

        $('.next').click(function () {
            step.next('#stepForm');
        });
    })
</script>
</body>
</html>